- import controllers.EventAction
-@ val it : model.event.EventPoVComponent
- import it._

- if(inResponseTo.nonEmpty) {
h4 In response to:
table.table.mailish
  thead
    tr
      td State
      td From
      td Subject
      td Date
      td Due
      td Action
  tbody
    - collection(inResponseTo, "tablerow")
- }

-# ----------------------------
h4 Event:
.well
  a.eventdetail(name={uuid})
  table.table.mailish
    thead
      tr
        td State
        td From
        td Subject
        td Date
        td Due
        td Action
    tbody
      - view(it, "tablerow")
  -# p
  -#   .label(class="label-#{badge.badgeType}")= badge.badgeText
  -# p
  -#   - view(it, "path") 
  -# p
  -#   a.subject(href={"/event/" + uuid })= subject
  p.ephemeral= ephemeralText

-# ----------------------------

- if(regardingDocs.nonEmpty) {
h4 Regarding document:
- collection(regardingDocs, "libraryrow")
- }

-# ----------------------------

- if(prerequisites.nonEmpty) {
h4 Dependent on:
table.table.mailish
  thead
    tr
      td State
      td From
      td Subject
      td Date
      td Due
      td Action
  tbody
    - collection(prerequisites, "tablerow")
- }

-# ----------------------------

- if(prerequisiteTo.nonEmpty) {
h4 Prerequisite to:
table.table.mailish
  thead
    tr
      td State
      td From
      td Subject
      td Date
      td Due
      td Action
  tbody
    - collection(prerequisiteTo, "tablerow")
- }

-# ----------------------------
p
  - view(it, "subtype")

-# ----------------------------

p
  .btn-group
    - for (action <- actions) {
      a.btn.ajax(id={uuid + action.id} 
                 href={"/event/" + epov.uuid + "/" + action.id + "/index"}   
                 rel="tooltip"
                 title={action}
                 data-replace-closest=".eventwidget"
                 data-refresh=".eventstaterefresh")
        i(class={action.icon})
    - }

-# ----------------------------

- if(responses.nonEmpty) {
h4 Responses:
table.table.mailish
  thead
    tr
      td State
      td From
      td Subject
      td Date
      td Due
      td Action
  tbody
    - collection(responses, "tablerow")
- }
